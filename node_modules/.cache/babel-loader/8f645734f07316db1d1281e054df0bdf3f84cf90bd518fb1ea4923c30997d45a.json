{"ast":null,"code":"var _jsxFileName = \"/Users/tbready/nyc-insight-project/src/components/VideoModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/VideoModal.jsx\nimport React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport '../styles/VideoModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoModal = ({\n  video,\n  onClose\n}) => {\n  _s();\n  const [tiktokEmbedReady, setTiktokEmbedReady] = useState(false);\n  useEffect(() => {\n    // Prevent body scroll when modal is open\n    document.body.style.overflow = 'hidden';\n\n    // Handle Escape key to close modal\n    const handleEscape = e => {\n      if (e.key === 'Escape') onClose();\n    };\n    document.addEventListener('keydown', handleEscape);\n\n    // Load TikTok embed script if needed\n    if (video.source === 'TikTok' && !window.tiktokEmbed) {\n      const script = document.createElement('script');\n      script.src = 'https://www.tiktok.com/embed.js';\n      script.async = true;\n      script.onload = () => {\n        window.tiktokEmbed = true;\n        setTiktokEmbedReady(true);\n      };\n      document.body.appendChild(script);\n    } else if (video.source === 'TikTok' && window.tiktokEmbed) {\n      setTiktokEmbedReady(true);\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [onClose, video.source]);\n  if (!video) return null;\n  const getYouTubeEmbedUrl = () => {\n    var _video$link$split$;\n    const videoId = video.id || ((_video$link$split$ = video.link.split('v=')[1]) === null || _video$link$split$ === void 0 ? void 0 : _video$link$split$.split('&')[0]);\n    return `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n  };\n  const getTikTokVideoId = () => {\n    // Extract video ID from TikTok link\n    // Format: https://www.tiktok.com/@username/video/1234567890\n    const match = video.link.match(/video\\/(\\d+)/);\n    return match ? match[1] : null;\n  };\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"video-modal-overlay\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"video-modal-content\",\n        initial: {\n          scale: 0.9,\n          opacity: 0\n        },\n        animate: {\n          scale: 1,\n          opacity: 1\n        },\n        exit: {\n          scale: 0.9,\n          opacity: 0\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close-button\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-video-container\",\n          children: [video.source === 'YouTube' && /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: getYouTubeEmbedUrl(),\n            title: video.title,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), video.source === 'TikTok' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tiktok-embed-container\",\n            children: getTikTokVideoId() ? /*#__PURE__*/_jsxDEV(\"blockquote\", {\n              className: \"tiktok-embed\",\n              cite: video.link,\n              \"data-video-id\": getTikTokVideoId(),\n              style: {\n                maxWidth: '605px',\n                minWidth: '325px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"section\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  href: video.link,\n                  children: \"View on TikTok\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tiktok-fallback\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Unable to embed this TikTok video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: video.link,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"external-link-button\",\n                children: \"Watch on TikTok \\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-video-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: video.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-source\",\n            children: video.source\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-description\",\n            children: video.summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoModal, \"RwCA5/+SotwPZIT78xzAZUOl10M=\");\n_c = VideoModal;\nexport default VideoModal;\nvar _c;\n$RefreshReg$(_c, \"VideoModal\");","map":{"version":3,"names":["React","useEffect","motion","AnimatePresence","jsxDEV","_jsxDEV","VideoModal","video","onClose","_s","tiktokEmbedReady","setTiktokEmbedReady","useState","document","body","style","overflow","handleEscape","e","key","addEventListener","source","window","tiktokEmbed","script","createElement","src","async","onload","appendChild","removeEventListener","getYouTubeEmbedUrl","_video$link$split$","videoId","id","link","split","getTikTokVideoId","match","children","div","className","initial","opacity","animate","exit","onClick","scale","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","title","frameBorder","allow","allowFullScreen","cite","maxWidth","minWidth","target","rel","href","summary","_c","$RefreshReg$"],"sources":["/Users/tbready/nyc-insight-project/src/components/VideoModal.jsx"],"sourcesContent":["// src/components/VideoModal.jsx\nimport React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport '../styles/VideoModal.css';\n\nconst VideoModal = ({ video, onClose }) => {\n  const [tiktokEmbedReady, setTiktokEmbedReady] = useState(false);\n\n  useEffect(() => {\n    // Prevent body scroll when modal is open\n    document.body.style.overflow = 'hidden';\n    \n    // Handle Escape key to close modal\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') onClose();\n    };\n    document.addEventListener('keydown', handleEscape);\n\n    // Load TikTok embed script if needed\n    if (video.source === 'TikTok' && !window.tiktokEmbed) {\n      const script = document.createElement('script');\n      script.src = 'https://www.tiktok.com/embed.js';\n      script.async = true;\n      script.onload = () => {\n        window.tiktokEmbed = true;\n        setTiktokEmbedReady(true);\n      };\n      document.body.appendChild(script);\n    } else if (video.source === 'TikTok' && window.tiktokEmbed) {\n      setTiktokEmbedReady(true);\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [onClose, video.source]);\n\n  if (!video) return null;\n\n  const getYouTubeEmbedUrl = () => {\n    const videoId = video.id || video.link.split('v=')[1]?.split('&')[0];\n    return `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n  };\n\n  const getTikTokVideoId = () => {\n    // Extract video ID from TikTok link\n    // Format: https://www.tiktok.com/@username/video/1234567890\n    const match = video.link.match(/video\\/(\\d+)/);\n    return match ? match[1] : null;\n  };\n\n  return (\n    <AnimatePresence>\n      <motion.div \n        className=\"video-modal-overlay\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        onClick={onClose}\n      >\n        <motion.div \n          className=\"video-modal-content\"\n          initial={{ scale: 0.9, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.9, opacity: 0 }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <button className=\"modal-close-button\" onClick={onClose}>\n            ✕\n          </button>\n\n          <div className=\"modal-video-container\">\n            {video.source === 'YouTube' && (\n              <iframe\n                src={getYouTubeEmbedUrl()}\n                title={video.title}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n              />\n            )}\n            \n            {video.source === 'TikTok' && (\n              <div className=\"tiktok-embed-container\">\n                {getTikTokVideoId() ? (\n                  <blockquote \n                    className=\"tiktok-embed\" \n                    cite={video.link}\n                    data-video-id={getTikTokVideoId()}\n                    style={{ maxWidth: '605px', minWidth: '325px' }}\n                  >\n                    <section>\n                      <a \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        href={video.link}\n                      >\n                        View on TikTok\n                      </a>\n                    </section>\n                  </blockquote>\n                ) : (\n                  <div className=\"tiktok-fallback\">\n                    <p>Unable to embed this TikTok video</p>\n                    <a \n                      href={video.link} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"external-link-button\"\n                    >\n                      Watch on TikTok →\n                    </a>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"modal-video-info\">\n            <h3>{video.title}</h3>\n            <p className=\"modal-source\">{video.source}</p>\n            <p className=\"modal-description\">{video.summary}</p>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default VideoModal;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}